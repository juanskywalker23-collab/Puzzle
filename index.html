<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para mi Amor ❤️</title>
    <style>
        body { background: #fff0f3; font-family: sans-serif; text-align: center; color: #ff4d6d; }
        
        /* El tablero */
        #puzzle {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* 3 columnas */
            width: 90vw; max-width: 300px; /* Tamaño pequeño y fácil */
            height: 90vw; max-height: 300px;
            margin: 20px auto;
            border: 5px solid white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .piece {
            border: 1px solid white;
            background-image: url('mi_foto.png'); /* LINEA 21: EL NOMBRE DE TU FOTO */
            background-size: 300px 300px;
            cursor: pointer;
        }

        .empty { background: #ffccd5; background-image: none; }

        /* La carta que aparece al final */
        #carta {
            display: none;
            padding: 20px;
            background: white;
            margin: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            line-height: 1.5;
            color: #333;
        }
    </style>
</head>
<body>

    <h1>TE AMO MONSE ❤️</h1>
    <div id="puzzle"></div>

    <div id="carta">
        <p>❤️ <strong>Mi Mensaje para ti:</strong></p>
        <p id="mensaje"></p>
        <p><strong>Te amo más de lo que las palabras pueden explicar.</strong></p>
    </div>

    <script>
        const grid = 3;
        let pieces = [0, 1, 2, 3, 4, 5, 6, 7, 8];
        const texto = "Desde que llegaste a mi vida, todo tiene un brillo diferente. No sé cómo lo haces, pero con solo hablarme me cambias el ánimo, con solo mirarme me das paz. Me encanta tu sonrisa, tu forma de ser, tu manera de apoyarme incluso cuando yo mismo dudo. Contigo he aprendido que el amor no es solo palabras bonitas, sino detalles, paciencia, abrazos largos y momentos simples que se vuelven inolvidables. Gracias por estar conmigo, por elegirme, por creer en nosotros. Quiero seguir construyendo recuerdos a tu lado, seguir riendo, soñando y creciendo juntos. No prometo ser perfecto, pero sí prometo amarte con todo lo que soy y dar siempre lo mejor de mí.";

        function draw() {
            const p = document.getElementById('puzzle');
            p.innerHTML = '';
            pieces.forEach((num, i) => {
                const div = document.createElement('div');
                div.className = 'piece' + (num === 8 ? ' empty' : '');
                if (num !== 8) {
                    const x = (num % 3) * 50; 
                    const y = Math.floor(num / 3) * 50;
                    div.style.backgroundPosition = `-${x * 2}% -${y * 2}%`;
                }
                div.onclick = () => move(i);
                p.appendChild(div);
            });
        }

        function move(i) {
            const empty = pieces.indexOf(8);
            if ([i-1, i+1, i-3, i+3].includes(empty)) {
                [pieces[i], pieces[empty]] = [pieces[empty], pieces[i]];
                draw();
                if (pieces.every((val, index) => val === index)) {
                    document.getElementById('carta').style.display = 'block';
                    document.getElementById('mensaje').innerText = texto;
                    document.getElementById('puzzle').style.display = 'none';
                }
            }
        }

        pieces.sort(() => Math.random() - 0.5);
        draw();
    </script>
</body>
</html>